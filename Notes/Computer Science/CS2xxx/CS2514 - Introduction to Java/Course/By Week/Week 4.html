<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Week 4</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
div.sourceLine, a.sourceLine { display: inline-block; min-height: 1.25em; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; }
@media print {
code.sourceCode { white-space: pre-wrap; }
div.sourceLine, a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource div.sourceLine, .numberSource a.sourceLine
  { position: relative; }
pre.numberSource div.sourceLine::before, .numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em; }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; color: #aaaaaa;  padding-left: 4px; }
pre, code { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; color: initial; }
}
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.bn { color: #0000cf; } /* BaseN */
code span.fl { color: #0000cf; } /* Float */
code span.ch { color: #4e9a06; } /* Char */
code span.st { color: #4e9a06; } /* String */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.ot { color: #8f5902; } /* Other */
code span.al { color: #ef2929; } /* Alert */
code span.fu { color: #000000; } /* Function */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code span.cn { color: #000000; } /* Constant */
code span.sc { color: #000000; } /* SpecialChar */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.im { } /* Import */
code span.va { color: #000000; } /* Variable */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.ex { } /* Extension */
code span.at { color: #c4a000; } /* Attribute */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="/Users/Noel/Developer/Projects/Notes/Build/note-style.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="battleship-cont." class="level1">
<h1>Battleship (cont.)</h1>
<pre class="sourceCode java" id="cb1"><code class="sourceCode java"><div class="sourceLine" id="cb1-1" data-line-number="1"><span class="dt">final</span> <span class="dt">int</span> maxStartValue = MAX_CELL_VALUE - CELLS_IN_DOT_COM + <span class="dv">1</span>;</div>
<div class="sourceLine" id="cb1-2" data-line-number="2"><span class="dt">final</span> <span class="dt">int</span> cell = rand[…];</div>
<div class="sourceLine" id="cb1-3" data-line-number="3">[…]</div></code></pre>
<p>[check out alternative implementations in lecture notes]</p>
<p>This implementation contains a bug. You can see the specific bug in the book if you want to fix it.</p>
</section>
<section id="class-instance-methods" class="level1">
<h1>Class &amp; Instance Methods</h1>
<p>Class methods are owned by the class:</p>
<ul>
<li>There is one method/variable per class</li>
<li>To access the method/variable you need the class</li>
<li>Class attributes are for representing class state</li>
<li>Class methods are for class behaviour</li>
</ul>
<p>Instance methods are owned by instances:</p>
<ul>
<li>There is one method/variable per instance</li>
<li>To access the method/variable you need the instance</li>
<li>Instance attributes are for representing object state</li>
<li>Instance attributes are for object behaviour</li>
</ul>
<p>There are two ways statements can access an instance attribute:</p>
<ul>
<li>Direct – they have access to the object reference for the instance
<ul>
<li>For this you have to use dot notation: <code>reference.attribute</code></li>
</ul></li>
<li>Indirect – they are in an instance method of the class that has been called on the instance
<ul>
<li>For this you don’t need dot notation (unless there’s ambiguity): <code>attribute</code></li>
</ul></li>
</ul>
</section>
<section id="notation-for-classes" class="level1">
<h1>Notation for Classes</h1>
<p>You can always write <code>class.method(arguments)</code>.</p>
<p>Inside the defining class you may write <code>method(arguments)</code>.</p>
<p>The same applies for variables.</p>
</section>
<section id="inheritance" class="level1">
<h1>Inheritance</h1>
<p>Two main advantages:</p>
<ul>
<li>increases ability to reuse implementation effort</li>
<li>separates class-specific code from general code</li>
</ul>
<p>Common code is put in a common, more abstract class (the superclass).</p>
<pre class="sourceCode java" id="cb2"><code class="sourceCode java"><div class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">public</span> <span class="kw">class</span> Surgeon <span class="kw">extends</span> Doctor {</div>
<div class="sourceLine" id="cb2-2" data-line-number="2">    <span class="kw">public</span> <span class="fu">Surgeon</span>() {</div>
<div class="sourceLine" id="cb2-3" data-line-number="3">        worksAtHospital = <span class="kw">true</span>;</div>
<div class="sourceLine" id="cb2-4" data-line-number="4">    }</div>
<div class="sourceLine" id="cb2-5" data-line-number="5"></div>
<div class="sourceLine" id="cb2-6" data-line-number="6">    <span class="at">@Override</span></div>
<div class="sourceLine" id="cb2-7" data-line-number="7">    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">treatPatient</span>() {</div>
<div class="sourceLine" id="cb2-8" data-line-number="8">        <span class="co">// specific patient treatment</span></div>
<div class="sourceLine" id="cb2-9" data-line-number="9">    }</div>
<div class="sourceLine" id="cb2-10" data-line-number="10"></div>
<div class="sourceLine" id="cb2-11" data-line-number="11">    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeIncision</span>() {</div>
<div class="sourceLine" id="cb2-12" data-line-number="12">        <span class="co">// additional behaviour</span></div>
<div class="sourceLine" id="cb2-13" data-line-number="13">    }</div>
<div class="sourceLine" id="cb2-14" data-line-number="14">}</div></code></pre>
<ul>
<li>This is how to implement a subclass in java.</li>
</ul>
<p>There are classes that support arrays that grow:</p>
<pre class="sourceCode java" id="cb3"><code class="sourceCode java"><div class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">import</span><span class="im"> java.util.ArrayList;</span></div>
<div class="sourceLine" id="cb3-2" data-line-number="2"></div>
<div class="sourceLine" id="cb3-3" data-line-number="3"><span class="dt">final</span> <span class="bu">ArrayList</span>&lt;Animal&gt; animals = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;Animal&gt;();</div>
<div class="sourceLine" id="cb3-4" data-line-number="4"></div>
<div class="sourceLine" id="cb3-5" data-line-number="5">animals.<span class="fu">add</span>(<span class="kw">new</span> <span class="fu">Dog</span>());</div>
<div class="sourceLine" id="cb3-6" data-line-number="6">animals.<span class="fu">add</span>(<span class="kw">new</span> <span class="fu">Cat</span>());</div>
<div class="sourceLine" id="cb3-7" data-line-number="7">animals.<span class="fu">add</span>(<span class="kw">new</span> <span class="fu">Hippo</span>());</div></code></pre>
<p>Enhanced <code>for</code> notation:</p>
<pre class="sourceCode java" id="cb4"><code class="sourceCode java"><div class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">for</span> (Animal animal: animals) {</div>
<div class="sourceLine" id="cb4-2" data-line-number="2">    animal.<span class="fu">makeNoise</span>();</div>
<div class="sourceLine" id="cb4-3" data-line-number="3">}</div></code></pre>
<ul>
<li>= for each animal in animals</li>
</ul>
<section id="hierarchy" class="level2">
<h2>Hierarchy</h2>
<p>Rather than make an <code>Animal</code> superclass and subclass every animal individually from that, it’s useful to note that you can split animals into <code>Canines</code>, <code>Felines</code>, and <code>Others</code>, where canines have stuff in common and felines and stuff in common.</p>
<p>This way you have to write less code.</p>
<p>E.g. all canines can use the same roaming method, rather than writing that method for each individual animal class within that group.</p>
<ul>
<li>all canines eat meat</li>
<li>all canines roam in packs</li>
</ul>
</section>
<section id="superclass-constructor" class="level2">
<h2>Superclass Constructor</h2>
<p>Calling the superclass constructor should be the first call in the constructor for the Canine class.</p>
<p>You do that like this:</p>
<pre class="sourceCode java" id="cb5"><code class="sourceCode java"><div class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">class</span> Canine <span class="kw">extends</span> Animal {</div>
<div class="sourceLine" id="cb5-2" data-line-number="2">    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">boolean</span> EATS_GRASS = <span class="kw">false</span>;</div>
<div class="sourceLine" id="cb5-3" data-line-number="3">    <span class="kw">public</span> <span class="fu">Canine</span>(<span class="dt">final</span> <span class="bu">String</span> picture){</div>
<div class="sourceLine" id="cb5-4" data-line-number="4">        <span class="kw">super</span>(picture, EATS_GRASS, hungerLevel);</div>
<div class="sourceLine" id="cb5-5" data-line-number="5">    }</div>
<div class="sourceLine" id="cb5-6" data-line-number="6">}</div></code></pre>
<ul>
<li><code>super()</code> calls the constructor for the superclass</li>
</ul>
</section>
</section>
<section id="interfaces" class="level1">
<h1>Interfaces</h1>
<section id="overloading" class="level2">
<h2>Overloading</h2>
<p>Two methods with the same name may overload each other. This is when you have two methods with the same name but a different signature. The signature of a method is its name and its argument types. A different signature might be:</p>
<ul>
<li>e.g. different numbers of arguments</li>
<li>e.g. same number of arguments but at least one different type</li>
</ul>
<p>Class constructors may also be overloaded.</p>
<section id="example" class="level3">
<h3>Example</h3>
<pre class="sourceCode java" id="cb6"><code class="sourceCode java"><div class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">public</span> <span class="dt">void</span> <span class="fu">f</span>(<span class="dt">int</span> x) {}</div>
<div class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">public</span> <span class="dt">int</span> <span class="fu">f</span>(<span class="dt">double</span> x) {}</div>
<div class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">f</span>(<span class="dt">int</span> x, <span class="dt">double</span> y) {}</div>
<div class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw">public</span> <span class="dt">void</span> <span class="fu">f</span>(<span class="dt">double</span> x, <span class="dt">int</span> y) {}</div></code></pre>
<ul>
<li>Which method is called is determined by the types of arguments passed in. If you call <code>f()</code> and pass it one <code>int</code>, the first definition here will be called.</li>
</ul>
<p>The following doesn’t work:</p>
<pre class="sourceCode java" id="cb7"><code class="sourceCode java"><div class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">public</span> <span class="dt">void</span> <span class="fu">f</span>(<span class="dt">int</span> x) {}</div>
<div class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">private</span> <span class="dt">int</span> <span class="fu">f</span>(<span class="dt">int</span> y) {}</div></code></pre>
<ul>
<li>return types or visibility isn’t enough, the parameter numbers and types need to be different</li>
<li>it’s not enough to just call the parameters something different</li>
</ul>
</section>
</section>
<section id="constructor-overloading" class="level2">
<h2>Constructor Overloading</h2>
<p>Constructors can be overloaded, and they can call each other. You do this using <code>this(…)</code>. This should be the first call in a class constructor if it’s used.</p>
<p>This lets you implement easy client-friendly constructors.</p>
<ul>
<li>A general constructor does the work</li>
<li>The friendly versions call <code>this()</code></li>
<li>The friendly version may do additional configuration [check]</li>
</ul>
<section id="example-1" class="level3">
<h3>Example</h3>
<pre class="sourceCode java" id="cb8"><code class="sourceCode java"><div class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">public</span> <span class="kw">class</span> NameObject {</div>
<div class="sourceLine" id="cb8-2" data-line-number="2">    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="bu">String</span> DEFAULT_NAME = <span class="st">&quot;Object&quot;</span>;</div>
<div class="sourceLine" id="cb8-3" data-line-number="3">    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> name;</div>
<div class="sourceLine" id="cb8-4" data-line-number="4"></div>
<div class="sourceLine" id="cb8-5" data-line-number="5">    <span class="co">// Default constructor</span></div>
<div class="sourceLine" id="cb8-6" data-line-number="6">    <span class="kw">public</span> <span class="fu">NamedObject</span>(<span class="dt">final</span> <span class="bu">String</span> name) {</div>
<div class="sourceLine" id="cb8-7" data-line-number="7">        <span class="kw">this</span>.<span class="fu">name</span> = name;</div>
<div class="sourceLine" id="cb8-8" data-line-number="8">    }</div>
<div class="sourceLine" id="cb8-9" data-line-number="9"></div>
<div class="sourceLine" id="cb8-10" data-line-number="10">    <span class="co">// Special-purpose constructor</span></div>
<div class="sourceLine" id="cb8-11" data-line-number="11">    <span class="kw">public</span> <span class="fu">NamedObject</span>() {</div>
<div class="sourceLine" id="cb8-12" data-line-number="12">        <span class="kw">this</span>(DEFAULT_NAME);</div>
<div class="sourceLine" id="cb8-13" data-line-number="13">    }</div>
<div class="sourceLine" id="cb8-14" data-line-number="14">}</div></code></pre>
<ul>
<li>The special-purpose constructor here allows you to have a default value if the constructor is called without an argument</li>
</ul>
</section>
</section>
</section>
<section id="motivation-for-interfaces" class="level1">
<h1>Motivation for Interfaces</h1>
<p>Interfaces are similar to classes, where the API is defined, but not the implementation.</p>
<p>Say you have a sorting algorithm. The algorithm works for certain kinds of objects. Say it works for Integers and you’d like to use the algorithm for Doubles. Ideally you’d like to reuse the algorithm’s implementation.</p>
<p>You use an interface for this.</p>
<ul>
<li>We could do this by overloading methods, but then we’d have the same code in multiple places, leading to changes having to be made in multiple places and mistakes propagating.</li>
</ul>
<section id="interfaces-1" class="level2">
<h2>Interfaces</h2>
<pre class="sourceCode java" id="cb9"><code class="sourceCode java"><div class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">public</span> <span class="dt">int</span> <span class="fu">linearSearch</span>(<span class="dt">final</span> <span class="bu">Comparable</span>[] things, <span class="dt">final</span> <span class="bu">Comparable</span> key){</div>
<div class="sourceLine" id="cb9-2" data-line-number="2">    <span class="dt">int</span> index = <span class="dv">0</span>;</div>
<div class="sourceLine" id="cb9-3" data-line-number="3">    <span class="kw">while</span> ((index != things.<span class="fu">length</span>) &amp;&amp; (things[index].<span class="fu">compareTo</span>(key) != <span class="dv">0</span>)){</div>
<div class="sourceLine" id="cb9-4" data-line-number="4">        index++;</div>
<div class="sourceLine" id="cb9-5" data-line-number="5">    }</div>
<div class="sourceLine" id="cb9-6" data-line-number="6">    <span class="kw">return</span> (index &lt; numbers.<span class="fu">length</span>) ? index : <span class="dv">-1</span>;</div>
<div class="sourceLine" id="cb9-7" data-line-number="7">}</div></code></pre>
<ul>
<li><code>Comparable</code> is an interface that defines <code>compareTo</code>.
<ul>
<li>If classes like <code>Double</code> etc. provide an implementation of <code>compareTo</code>, then they can be used in this.</li>
</ul></li>
</ul>
<section id="contract" class="level3">
<h3>Contract</h3>
<p>We want to restrict the type of parameter to make sure the parameter has the behaviour we need.</p>
<p>We do this using an interface, which is a multi-stage process:</p>
<ol type="1">
<li>define the interface (once)</li>
<li>implement the interface (any number of times)</li>
</ol>
</section>
<section id="defining-the-interface" class="level3">
<h3>Defining the Interface</h3>
<p>It’s like defining a class. You provide the name of the interface.</p>
<p>You provide the API of the public instance methods.</p>
<p>You don’t provide an implementation of the instance methods.</p>
<section id="example-2" class="level4">
<h4>Example</h4>
<pre class="sourceCode java" id="cb10"><code class="sourceCode java"><div class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">public</span> <span class="kw">interface</span> Sellable {</div>
<div class="sourceLine" id="cb10-2" data-line-number="2">    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getPrice</span>();</div>
<div class="sourceLine" id="cb10-3" data-line-number="3">    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">sellTo</span>(<span class="dt">final</span> Buyer buyer);</div>
<div class="sourceLine" id="cb10-4" data-line-number="4">}</div></code></pre>
<ul>
<li>Note there’s no implementation</li>
</ul>
<p>Once you’ve defined it, you can implement it.</p>
</section>
</section>
<section id="implement-the-interface" class="level3">
<h3>Implement the Interface</h3>
<p>A class may implement an interface by overriding all methods defined in the interface. In order to be an implementation of the interface, it <em>must</em> override all methods define in the interface.</p>
<section id="example-3" class="level4">
<h4>Example</h4>
<pre class="sourceCode java" id="cb11"><code class="sourceCode java"><div class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">public</span> <span class="kw">class</span> Cat <span class="kw">implements</span> Sellable {</div>
<div class="sourceLine" id="cb11-2" data-line-number="2">    …</div>
<div class="sourceLine" id="cb11-3" data-line-number="3">    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">double</span> price;</div>
<div class="sourceLine" id="cb11-4" data-line-number="4">    <span class="kw">private</span> Buyer owner;</div>
<div class="sourceLine" id="cb11-5" data-line-number="5">    <span class="kw">public</span> <span class="fu">Cat</span>(…){</div>
<div class="sourceLine" id="cb11-6" data-line-number="6">        …</div>
<div class="sourceLine" id="cb11-7" data-line-number="7">    }</div>
<div class="sourceLine" id="cb11-8" data-line-number="8"></div>
<div class="sourceLine" id="cb11-9" data-line-number="9">    <span class="at">@Override</span></div>
<div class="sourceLine" id="cb11-10" data-line-number="10">    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getPrice</span>() {</div>
<div class="sourceLine" id="cb11-11" data-line-number="11">        <span class="kw">return</span> price;</div>
<div class="sourceLine" id="cb11-12" data-line-number="12">    }</div>
<div class="sourceLine" id="cb11-13" data-line-number="13"></div>
<div class="sourceLine" id="cb11-14" data-line-number="14">    <span class="at">@Override</span></div>
<div class="sourceLine" id="cb11-15" data-line-number="15">    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">sellTo</span>(<span class="dt">final</span> Buyer buyer){</div>
<div class="sourceLine" id="cb11-16" data-line-number="16">        <span class="co">// implementation</span></div>
<div class="sourceLine" id="cb11-17" data-line-number="17">    }</div>
<div class="sourceLine" id="cb11-18" data-line-number="18">}</div></code></pre>
</section>
</section>
</section>
<section id="substitution-principle-for-interfaces" class="level2">
<h2>Substitution Principle for Interfaces</h2>
<p>Say we have an interface called <code>Interface</code>. Say we have a variable <code>var</code> of type <code>Interface</code>.</p>
<p>At runtime you may assign <code>var</code> any reference to an instance of a class that implements <code>Interface</code>.</p>
<p>More generally, if a class implements <code>Interface</code> you may use its instances when an <code>Interface</code> object reference is expected.</p>
<p>This is called the <em>Liskov substitution principle</em>.</p>
<p>Say the <code>Dog</code> class implement the <code>Animal</code> interface. Then you can use a Dog when Java expects an Animal.</p>
<pre class="sourceCode java" id="cb12"><code class="sourceCode java"><div class="sourceLine" id="cb12-1" data-line-number="1">Animal animal = <span class="kw">new</span> <span class="fu">Dog</span>();</div></code></pre>
</section>
<section id="substitution-principle-for-classes" class="level2">
<h2>Substitution Principle for Classes</h2>
<p>If a class extends <code>Clazz</code> you may use its instances when a <code>Clazz</code> object reference is expected. Say […]</p>
<pre class="sourceCode java" id="cb13"><code class="sourceCode java"><div class="sourceLine" id="cb13-1" data-line-number="1">Animal animal = <span class="kw">new</span> <span class="fu">Dog</span>();</div></code></pre>
</section>
<section id="polymorphism" class="level2">
<h2>Polymorphism</h2>
<p>The term means the occurrence of [check].</p>
<p>With polymorphism the type of reference variable and of object may be different. An <code>Animal</code> object reference may reference a <code>Dog</code> object, as long as the <code>Dog</code> class extends the <code>Animal</code> class (or implements the <code>Animal</code> interface).</p>
<p>The type of the object, not the type of the reference, determines which instance method is called.</p>
<p>This is also known as late binding.</p>
</section>
<section id="polymorphic-methods" class="level2">
<h2>Polymorphic Methods</h2>
<p>Formal parameters and return types can be polymorphic. With formal parameter <code>Animal</code> the actual parameter may be a <code>Dog</code> type. The same for return types.</p>
</section>
</section>
</body>
</html>
